headline,mainEntityOfPage,image,datePublished,dateModified,author,media_en,media_jp,str_count,body,images,external_links
「Linux」でスナップショットを作成するには--マシンを災害から守る最も簡単な方法（ZDNET Japan）,https://news.yahoo.co.jp/articles/12cd7cd14b3f841808eef95f136b269177ee22c4,https://newsatcl-pctr.c.yimg.jp/t/amd-img/20251103-35239909-zdnet-000-1-view.jpg?exp=10800,2025-11-03T07:00:00+09:00,2025-11-03T07:00:00+09:00,ZDNET Japan,zdnet,ZDNET Japan,2632,"提供：Elyse Betters Picaro / ZDNET
正常に動作する「Linux」システムを常時運用したいなら、スナップショットは不可欠である。スナップショットとは、ある瞬間におけるシステムの状態を保存したものであり、手動または自動で作成される。そして、システムを以前の状態に戻したいときに使用される。

スナップショットとバックアップの違い

　スナップショットとバックアップの違いを理解しておくことは重要だ。スナップショットがある時点におけるシステムの状態をキャプチャーしたデータのコピーであるのに対し、バックアップは復旧のために別途保存される特定のデータの完全な複製である。それぞれの目的を見ると、スナップショットが迅速な復旧やテスト、仮想環境を想定しているのに対し、バックアップは長期的なデータ保護や災害復旧のために作成される。

　したがって、最も信頼性の高い復旧システムを実現するには、スナップショットとバックアップの両方が必要であるが、これらはそれぞれ異なる方法で処理される。

　本記事では、Linuxでスナップショットを作成する方法について説明する。その前に、知っておくべき非常に重要な点が1つある。Linuxでスナップショットを作成する手段は主に2つあり、それは「Btrfs」と「rsync」である。

　Btrfsを採用しているLinuxディストリビューション（「openSUSE」など）を使用する場合、スナップショットの占有容量がはるかに少なく、処理も格段に高速だ。一方、Btrfsファイルシステムを採用していないディストリビューションのユーザーは、より低速で、より多くの容量を消費するrsyncを使うことになる。どちらを選んだとしても、スナップショットを作成し、システムを以前の状態に戻すことは可能である。

「Timeshift」のインストールと設定

　必要なのは、Linuxディストリビューションとsudo権限を持つユーザーだけである。ただし、先述の通りBtrfsファイルシステムを採用しているLinuxディストリビューションを使うのが理想的である。

　さらに、スナップショットを保存するための外付けドライブもあった方がいい。なぜなら、ローカルファイルシステムに保存すると、問題が発生した場合にアクセスできなくなる可能性があるからだ。今回は説明を容易にするため仮想マシンを使い、スナップショットをローカルドライブに保存して進めるが、読者には実際にスナップショットを作成する際、ローカルドライブへの保存は避けてほしい。

1. ディストリビューションのアプリストアを開く

　コマンドラインからではなく、ディストリビューションのアプリストアからTimeshiftをインストールすることを推奨する。例えば、openSUSE（「KDE Plasma」デスクトップ環境を搭載）では、「Discover」を開いてTimeshiftを検索する。

2. Timeshiftをインストールする

　Timeshiftの項目が表示されたら、「インストール」をクリックする。ユーザーパスワードの入力を求められ、認証が成功すると、アプリがインストールされる。
スナップショットを設定する

　次にスナップショットを設定する。その前に、外付けドライブが接続されていることを確認してほしい。準備ができたら、設定を開始する。

1. Timeshiftを起動する

　デスクトップメニューを開いてTimeshiftを検索し、アプリのアイコンをクリックして起動する。

2. タイプを選択する

　Timeshiftセットアップウィザードの最初のウィンドウで、Btrfsとrsyncのいずれかを選択するように求められる。Btrfsを採用しているディストリビューションのユーザーはBtrfsを選択し、それ以外のユーザーはrsyncを選択してほしい。Btrfsファイルシステムが実行されていないディストリビューションの場合、Btrfsはグレー表示される。選択後、「次へ」をクリックする。

3. スナップショットの保存先を選択する

　次のウィンドウで、スナップショットを保存するドライブを選択し、「次へ」をクリックする。

4. スナップショットのレベルを選択する

　続くウィンドウでは、スナップショットの作成頻度と保存したいスナップショットの数を設定できる。ここで少なくとも5つは保存することを強く推奨する。なぜなら、1つしか保存しない場合、スナップショット作成後に問題が発生すると、正常な状態に戻せなくなるからだ。

　スナップショットの作成頻度と保存数については、複数のパターンを組み合わせて設定可能だ。例えば、毎日スナップショットを作成し、最新の5つを保持する設定に加え、毎月スナップショットを作成し、最新の2つを保持するという設定を追加できる。設定が完了したら、「次へ」をクリックする。

5. ホームディレクトリーは除外する

　ホームディレクトリーはスナップショットから除外することを推奨する。代わりに、それらのディレクトリーはバックアップを取るようにすべきである。「Include @home subvolume in backups」（@homeサブボリュームをバックアップに含める）オプションのチェックを外し、「次へ」をクリックする。

　その後、「完了」をクリックすれば設定は完了する。Timeshiftは自動的にスナップショットの保存を開始する。

スナップショットを使用する方法

使用しているディストリビューションのISOイメージをダウンロードする
ISOイメージをUSBドライブに書き込む
コンピューターの電源を切る
USBドライブを挿入する
コンピューターの電源を入れる
ライブインスタンスが起動したら、Timeshiftをインストールする
Timeshiftを起動する
「復元」をクリックする
使用したいスナップショットを選択する
復元を実行する

　これで、スナップショットシステムの設定は完了した。なお、ホームディレクトリー（と重要なデータが保存されているその他のディレクトリー）のバックアップを設定することも忘れないでほしい。

この記事は海外Ziff Davis発の記事を4Xが日本向けに編集したものです。",[],[]
